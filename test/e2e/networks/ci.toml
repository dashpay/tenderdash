# This testnet is run by CI, and attempts to cover a broad range of
# functionality with a single network.

evidence = 5
initial_height = 1000
initial_state = {initial01 = "a", initial02 = "b", initial03 = "c"}
queue_type = "simple-priority"
abci_protocol = "builtin"
initial_core_chain_locked_height = 3400

[chainlock_updates]
1000 = 3450
1004 = 3451
1009 = 3452
1020 = 3454
1040 = 3500

[validators]
validator01 = 100

[validator_update.0]
validator02 = 100
validator03 = 100
validator04 = 100

[validator_update.1010]
validator05 = 100

[node.seed01]
mode = "seed"
perturb = ["restart"]

[node.seed02]
mode = "seed"
seeds = ["seed01"]

[node.validator01]
seeds = ["seed01"]
snapshot_interval = 5
block_sync = "v0"
perturb = ["disconnect"]

[node.validator02]
database = "cleveldb"
persist_interval = 0
perturb = ["restart"]
privval_protocol = "tcp"
seeds = ["seed01"]
block_sync = "v0"

[node.validator03]
database = "badgerdb"
seeds = ["seed01"]
persist_interval = 3
perturb = ["kill"]
privval_protocol = "grpc"
block_sync = "v0"
retain_blocks = 10

[node.validator04]
snapshot_interval = 5
database = "badgerdb"
persistent_peers = ["validator01"]
perturb = ["pause"]
block_sync = "v0"
privval_protocol = "tcp"

[node.validator05]
block_sync = "v0"
database = "badgerdb"
state_sync = "p2p"
start_at = 1005 # Becomes part of the validator set at 1010
perturb = ["pause", "disconnect", "restart"]

[node.full01]
mode = "full"
start_at = 1010
block_sync = "v0"
database = "boltdb"
persistent_peers = ["validator01", "validator02", "validator03", "validator04"]
perturb = ["restart"]
retain_blocks = 10
state_sync = "rpc"

[node.light01]
mode = "light"
persistent_peers = ["validator01", "validator02", "validator03"]
start_at = 1010
